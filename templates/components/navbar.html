{% load static%}
<link rel="stylesheet" href={% static 'css/components/navbar.css' %}>


<div class="wrapper site-header__wrapper">
    <div class="site-header__start">
        <a href={% url 'home'%} class="brand">
            <img src="../../static/images/Logo_project.png" alt="" class="nav-logo">
        </a>
    </div>
    <div class="site-header__middle">
        <nav class="nav">
            <ul class="nav__wrapper">
                <li class="nav__item"><a href="#">Home</a></li>
                <li class="nav__item"><a href="#">About</a></li>
                <li class="nav__item"><a href={% url 'categories' %}>Categories</a>
                <li class="nav__item"><a href={% url 'orders' %}>Orders</a></li>
            </ul>
        </nav>
    </div>
    <div class="site-header__end">
        <nav class="nav">
            <ul class="nav__wrapper">
                {% if user.is_authenticated %}
                    <li class="nav__item">
                        <a href={% url 'cart' %}>
                            <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                            Cart
                        </a>
                    </li>
                    <li class="nav__item">
                        <a href={% url 'wishlist' %}>
                            <i class="fa fa-heart" aria-hidden="true"></i>
                            Wishlist
                        </a>
                    </li>
                    <li class="nav__item">
                        <a href={%url 'logout' %}>
                            <i class="fa fa-sign-out" aria-hidden="true"></i>
                            Logout
                        </a>
                    </li>
                    {% else %}
                    <li class="nav__item">
                        <a href={%url 'login' %}>
                            <i class="fa fa-sign-in" aria-hidden="true"></i>
                            Login
                        </a>
                    </li>
                    <li class="nav__item">
                        <a href={%url 'signup' %}>
                            <i class="fa fa-user-plus" aria-hidden="true"></i>
                            Signup
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    </div>
</div>
<div class="categories-navbar">
    <nav class="nav categories-nav">
        <ul class="categories-list nav__wrapper" id="category_list">
            
        </ul>
    </nav>
</div>

<script>
    //list and link of categories,their slugs
    fetch('/products/categories_list')
    .then(response=>response.json())
    .then(categories=>{
        let size=0
        for(category in categories)
        {
            size++
        }

        let list_element=document.getElementById('category_list')

        for (let i = 0; i < size; i++) {
            const item=document.createElement("li")
            const linkitem=document.createElement("a")
            linkitem.href="/products/categories/"+categories[i]['slug']
            linkitem.innerHTML=categories[i]['title']
            item.appendChild(linkitem)
            list_element.appendChild(item)
        }
    })

</script>